root@sudipto-K53SM:/home/sudipto/nodeman# gcc nltest2.c -I/usr/include/libnl3 -lnl-genl-3 -lnl-3
root@sudipto-K53SM:/home/sudipto/nodeman# NLCB=debug ./a.out
Before ctrl_resolve
-- Debug: Sent Message:
--------------------------   BEGIN NETLINK MESSAGE ---------------------------
  [HEADER] 16 octets
    .nlmsg_len = 32
    .nlmsg_type = 16 <genl/family::nlctrl>
    .nlmsg_flags = 5 <REQUEST,ACK>
    .nlmsg_seq = 1414688578
    .nlmsg_pid = 12496
  [PAYLOAD] 4 octets
    03 01 00 00                                           ....
  [ATTR 02] 8 octets
    6e 6c 38 30 32 31 31 00                               nl80211.
---------------------------  END NETLINK MESSAGE   ---------------------------
-- Debug: Received Message:
--------------------------   BEGIN NETLINK MESSAGE ---------------------------
  [HEADER] 16 octets
    .nlmsg_len = 1732
    .nlmsg_type = 16 <genl/family::nlctrl>
    .nlmsg_flags = 0 <>
    .nlmsg_seq = 1414688578
    .nlmsg_pid = 12496
  [PAYLOAD] 4 octets
    01 02 00 00                                           ....
  [ATTR 02] 8 octets
    6e 6c 38 30 32 31 31 00                               nl80211.
  [ATTR 01] 2 octets
    1a 00                                                 ..
  [PADDING] 2 octets
    00 00                                                 ..
  [ATTR 03] 4 octets
    01 00 00 00                                           ....
  [ATTR 04] 4 octets
    00 00 00 00                                           ....
  [ATTR 05] 4 octets
    bf 00 00 00                                           ....
  [ATTR 06] 1560 octets
    14 00 01 00 08 00 01 00 01 00 00 00 08 00 02 00 0e 00 ..................
    00 00 14 00 02 00 08 00 01 00 02 00 00 00 08 00 02 00 ..................
    0b 00 00 00 14 00 03 00 08 00 01 00 05 00 00 00 08 00 ..................
    02 00 0e 00 00 00 14 00 04 00 08 00 01 00 06 00 00 00 ..................
    08 00 02 00 0b 00 00 00 14 00 05 00 08 00 01 00 07 00 ..................
    00 00 08 00 02 00 0b 00 00 00 14 00 06 00 08 00 01 00 ..................
    08 00 00 00 08 00 02 00 0b 00 00 00 14 00 07 00 08 00 ..................
    01 00 09 00 00 00 08 00 02 00 0b 00 00 00 14 00 08 00 ..................
    08 00 01 00 0a 00 00 00 08 00 02 00 0b 00 00 00 14 00 ..................
    09 00 08 00 01 00 0b 00 00 00 08 00 02 00 0b 00 00 00 ..................
    14 00 0a 00 08 00 01 00 0c 00 00 00 08 00 02 00 0b 00 ..................
    00 00 14 00 0b 00 08 00 01 00 0e 00 00 00 08 00 02 00 ..................
    0b 00 00 00 14 00 0c 00 08 00 01 00 0f 00 00 00 08 00 ..................
    02 00 0b 00 00 00 14 00 0d 00 08 00 01 00 10 00 00 00 ..................
    08 00 02 00 0b 00 00 00 14 00 0e 00 08 00 01 00 11 00 ..................
    00 00 08 00 02 00 0e 00 00 00 14 00 0f 00 08 00 01 00 ..................
    12 00 00 00 08 00 02 00 0b 00 00 00 14 00 10 00 08 00 ..................
    01 00 13 00 00 00 08 00 02 00 0b 00 00 00 14 00 11 00 ..................
    08 00 01 00 14 00 00 00 08 00 02 00 0b 00 00 00 14 00 ..................
    12 00 08 00 01 00 15 00 00 00 08 00 02 00 0f 00 00 00 ..................
    14 00 13 00 08 00 01 00 16 00 00 00 08 00 02 00 0b 00 ..................
    00 00 14 00 14 00 08 00 01 00 17 00 00 00 08 00 02 00 ..................
    0b 00 00 00 14 00 15 00 08 00 01 00 18 00 00 00 08 00 ..................
    02 00 0b 00 00 00 14 00 16 00 08 00 01 00 19 00 00 00 ..................
    08 00 02 00 0b 00 00 00 14 00 17 00 08 00 01 00 1f 00 ..................
    00 00 08 00 02 00 0a 00 00 00 14 00 18 00 08 00 01 00 ..................
    1a 00 00 00 08 00 02 00 0b 00 00 00 14 00 19 00 08 00 ..................
    01 00 1b 00 00 00 08 00 02 00 0b 00 00 00 14 00 1a 00 ..................
    08 00 01 00 1c 00 00 00 08 00 02 00 0a 00 00 00 14 00 ..................
    1b 00 08 00 01 00 1d 00 00 00 08 00 02 00 0b 00 00 00 ..................
    14 00 1c 00 08 00 01 00 21 00 00 00 08 00 02 00 0b 00 ........!.........
    00 00 14 00 1d 00 08 00 01 00 20 00 00 00 08 00 02 00 .......... .......
    0c 00 00 00 14 00 1e 00 08 00 01 00 4b 00 00 00 08 00 ............K.....
    02 00 0b 00 00 00 14 00 1f 00 08 00 01 00 4c 00 00 00 ..............L...
    08 00 02 00 0b 00 00 00 14 00 20 00 08 00 01 00 25 00 .......... .....%.
    00 00 08 00 02 00 0b 00 00 00 14 00 21 00 08 00 01 00 ............!.....
    26 00 00 00 08 00 02 00 0b 00 00 00 14 00 22 00 08 00 &............."...
    01 00 27 00 00 00 08 00 02 00 0b 00 00 00 14 00 23 00 ..'.............#.
    08 00 01 00 28 00 00 00 08 00 02 00 0b 00 00 00 14 00 ....(.............
    24 00 08 00 01 00 2b 00 00 00 08 00 02 00 0b 00 00 00 $.....+...........
    14 00 25 00 08 00 01 00 2c 00 00 00 08 00 02 00 0b 00 ..%.....,.........
    00 00 14 00 26 00 08 00 01 00 2e 00 00 00 08 00 02 00 ....&.............
    0b 00 00 00 14 00 27 00 08 00 01 00 30 00 00 00 08 00 ......'.....0.....
    02 00 0b 00 00 00 14 00 28 00 08 00 01 00 31 00 00 00 ........(.....1...
    08 00 02 00 0b 00 00 00 14 00 29 00 08 00 01 00 32 00 ..........).....2.
    00 00 08 00 02 00 0c 00 00 00 14 00 2a 00 08 00 01 00 ............*.....
    34 00 00 00 08 00 02 00 0b 00 00 00 14 00 2b 00 08 00 4.............+...
    01 00 35 00 00 00 08 00 02 00 0b 00 00 00 14 00 2c 00 ..5.............,.
    08 00 01 00 36 00 00 00 08 00 02 00 0b 00 00 00 14 00 ....6.............
    2d 00 08 00 01 00 37 00 00 00 08 00 02 00 0b 00 00 00 -.....7...........
    14 00 2e 00 08 00 01 00 38 00 00 00 08 00 02 00 0b 00 ........8.........
    00 00 14 00 2f 00 08 00 01 00 39 00 00 00 08 00 02 00 ..../.....9.......
    0b 00 00 00 14 00 30 00 08 00 01 00 3a 00 00 00 08 00 ......0.....:.....
    02 00 0b 00 00 00 14 00 31 00 08 00 01 00 3b 00 00 00 ........1.....;...
    08 00 02 00 0b 00 00 00 14 00 32 00 08 00 01 00 43 00 ..........2.....C.
    00 00 08 00 02 00 0b 00 00 00 14 00 33 00 08 00 01 00 ............3.....
    3d 00 00 00 08 00 02 00 0b 00 00 00 14 00 34 00 08 00 =.............4...
    01 00 3e 00 00 00 08 00 02 00 0a 00 00 00 14 00 35 00 ..>.............5.
    08 00 01 00 3f 00 00 00 08 00 02 00 0b 00 00 00 14 00 ....?.............
    36 00 08 00 01 00 41 00 00 00 08 00 02 00 0b 00 00 00 6.....A...........
    14 00 37 00 08 00 01 00 42 00 00 00 08 00 02 00 0b 00 ..7.....B.........
    00 00 14 00 38 00 08 00 01 00 44 00 00 00 08 00 02 00 ....8.....D.......
    0b 00 00 00 14 00 39 00 08 00 01 00 45 00 00 00 08 00 ......9.....E.....
    02 00 0b 00 00 00 14 00 3a 00 08 00 01 00 49 00 00 00 ........:.....I...
    08 00 02 00 0a 00 00 00 14 00 3b 00 08 00 01 00 4a 00 ..........;.....J.
    00 00 08 00 02 00 0b 00 00 00 14 00 3c 00 08 00 01 00 ............<.....
    4f 00 00 00 08 00 02 00 0b 00 00 00 14 00 3d 00 08 00 O.............=...
    01 00 52 00 00 00 08 00 02 00 0b 00 00 00 14 00 3e 00 ..R.............>.
    08 00 01 00 51 00 00 00 08 00 02 00 0b 00 00 00 14 00 ....Q.............
    3f 00 08 00 01 00 53 00 00 00 08 00 02 00 0b 00 00 00 ?.....S...........
    14 00 40 00 08 00 01 00 54 00 00 00 08 00 02 00 0b 00 ..@.....T.........
    00 00 14 00 41 00 08 00 01 00 55 00 00 00 08 00 02 00 ....A.....U.......
    0b 00 00 00 14 00 42 00 08 00 01 00 57 00 00 00 08 00 ......B.....W.....
    02 00 0b 00 00 00 14 00 43 00 08 00 01 00 59 00 00 00 ........C.....Y...
    08 00 02 00 0b 00 00 00 14 00 44 00 08 00 01 00 5a 00 ..........D.....Z.
    00 00 08 00 02 00 0b 00 00 00 14 00 45 00 08 00 01 00 ............E.....
    5c 00 00 00 08 00 02 00 0b 00 00 00 14 00 46 00 08 00 \.............F...
    01 00 5d 00 00 00 08 00 02 00 0b 00 00 00 14 00 47 00 ..].............G.
    08 00 01 00 5e 00 00 00 08 00 02 00 0b 00 00 00 14 00 ....^.............
    48 00 08 00 01 00 5f 00 00 00 08 00 02 00 0a 00 00 00 H....._...........
    14 00 49 00 08 00 01 00 60 00 00 00 08 00 02 00 0b 00 ..I.....`.........
    00 00 14 00 4a 00 08 00 01 00 62 00 00 00 08 00 02 00 ....J.....b.......
    0b 00 00 00 14 00 4b 00 08 00 01 00 63 00 00 00 08 00 ......K.....c.....
    02 00 0b 00 00 00 14 00 4c 00 08 00 01 00 64 00 00 00 ........L.....d...
    08 00 02 00 0a 00 00 00 14 00 4d 00 08 00 01 00 65 00 ..........M.....e.
    00 00 08 00 02 00 0b 00 00 00 14 00 4e 00 08 00 01 00 ............N.....
    66 00 00 00 08 00 02 00 0b 00 00 00                   f...........
  [ATTR 07] 100 octets
    18 00 01 00 08 00 02 00 04 00 00 00 0b 00 01 00 63 6f ................co
    6e 66 69 67 00 00 18 00 02 00 08 00 02 00 05 00 00 00 nfig..............
    09 00 01 00 73 63 61 6e 00 00 00 00 1c 00 03 00 08 00 ....scan..........
    02 00 06 00 00 00 0f 00 01 00 72 65 67 75 6c 61 74 6f ..........regulato
    72 79 00 00 18 00 04 00 08 00 02 00 07 00 00 00 09 00 ry................
    01 00 6d 6c 6d 65 00 00 00 00                         ..mlme....
---------------------------  END NETLINK MESSAGE   ---------------------------
-- Debug: Received Message:
--------------------------   BEGIN NETLINK MESSAGE ---------------------------
  [HEADER] 16 octets
    .nlmsg_len = 36
    .nlmsg_type = 2 <ERROR>
    .nlmsg_flags = 0 <>
    .nlmsg_seq = 1414688578
    .nlmsg_pid = 12496
  [ERRORMSG] 20 octets
    .error = 0 "Success"
  [ORIGINAL MESSAGE] 16 octets
    .nlmsg_len = 16
    .nlmsg_type = 16 <0x10>
    .nlmsg_flags = 5 <REQUEST,ACK>
    .nlmsg_seq = 1414688578
    .nlmsg_pid = 12496
---------------------------  END NETLINK MESSAGE   ---------------------------
expectedID : 26
ifindex : 3
Before send_auto_complete
-- Debug: Sent Message:
--------------------------   BEGIN NETLINK MESSAGE ---------------------------
  [HEADER] 16 octets
    .nlmsg_len = 40
    .nlmsg_type = 26 <0x1a>
    .nlmsg_flags = 5 <REQUEST,ACK>
    .nlmsg_seq = 1414688579
    .nlmsg_pid = 12496
  [PAYLOAD] 24 octets
    3a 00 00 00 08 00 03 00 03 00 00 00 06 00 65 00 d0 00 :.............e...
    00 00 04 00 5b 00                                     ....[.
---------------------------  END NETLINK MESSAGE   ---------------------------
called auto_complete
Dumping msg
Inside the nlCallback Function
in cb ret_hdr->msg_type : 2
in cb expectedID : 26
Length of the payload = 20
0
0
0
0
28
0
0
0
1a
0
5
0
43
6f
52
54
ffffffd0
30
0
0
Attr len = 16

Doing something
Validation result = 0
parsing done
-- Debug: ACK: type=ERROR length=36 flags=<> sequence-nr=1414688579 pid=12496
^C

